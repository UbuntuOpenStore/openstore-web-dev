---
import BaseLayout from "../layouts/BaseLayout.astro";
import Discover from "@/components/Discover.astro";
import { initializeI18N } from "@/lib/i18n";
import { t } from "i18next";
import { generateSchema } from "@/lib/json-schema";
import SvgSpinner from "@/components/icons/Spinner";
import Loading from "@/components/Loading";

await initializeI18N(Astro.currentLocale);
---

<BaseLayout
  title="OpenStore"
  pageTitle="OpenStore"
  description={t("The open source app store for Ubuntu Touch")}
  schema={generateSchema("OpenStore", [])}
>
  <section class="section text-center grow">
    <h1 class="text-4xl">OpenStore</h1>
    <p>{t("The open source app store for Ubuntu Touch")}</p>
  </section>

  <Discover server:defer>
    <Loading slot="fallback" />
  </Discover>
</BaseLayout>
