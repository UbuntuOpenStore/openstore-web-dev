---
import BaseLayout from "@/layouts/BaseLayout.astro";
import SearchApps from "@/components/SearchApps";
import CategoryList from "@/components/CategoryList.astro";
import { initializeI18N } from "@/lib/i18n";
import { t } from "i18next";

await initializeI18N(Astro.currentLocale);
---

<BaseLayout title="OpenStore" pageTitle={t("Apps") + " | OpenStore"} description={t("The open source app store for Ubuntu Touch")}>
  <section class="grow flex flex-row">
    <CategoryList class="mx-12 w-96 mb-2 hidden md:block" />

    <div class="w-full">
      <SearchApps
        messages={{
          all: t("All Types"),
          apps: t("Apps"),
          bookmarks: t("Bookmarks"),
          webapps: t("Web Apps"),
          filter: t("Filter by Type"),
          new: t("New!"),
          app: t("App"),
          bookmark: t("Bookmark"),
          webapp: t("Web App"),
          notFound: t("No apps found"),
          previous: t("Go back a page"),
          next: t("Go to the next page"),
          error: t("There was an error loading the app list. Please try again later."),
          search: t("Search"),
          sortBy: t("Sort by:"),
          sortOptions: t("Sort Options"),
          options: {
            relevance: t("Relevance"),
            "-calculated_rating": t("Most Popular"),
            calculated_rating: t("Least Popular"),
            name: t("Title (A-Z)"),
            "-name": t("Title (Z-A)"),
            "-published_date": t("Newest"),
            published_date: t("Oldest"),
            "-updated_date": t("Latest Update"),
            updated_date: t("Oldest Update"),
          },
        }}
        client:only="preact"
      />
    </div>
  </section>
</BaseLayout>
