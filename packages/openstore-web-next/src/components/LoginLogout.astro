---
import { getRelativeLocaleUrl } from "@/lib/utils";
import { initializeI18N } from "@/lib/i18n";
import { t } from "i18next";

await initializeI18N(Astro.currentLocale);

const apikey = Astro.cookies.get("apikey")?.value;
---

{apikey ? (
  <li>
    <a class="header-link" href="/manage/">{t("Manage")}</a>
  </li>

  <li>
    <a class="header-link" href={getRelativeLocaleUrl(Astro.currentLocale, "/logout/")}>{t("Logout")}</a>
  </li>
) : (
  <li>
    <a class="header-link" href={getRelativeLocaleUrl(Astro.currentLocale, "/login/")}>{t("Login")}</a>
  </li>
)}
