---
import type { AppManageData } from "@/lib/schema";
import SvgHome from "../icons/Home";
import Ratings from "../apps/Ratings.astro";
import ManageMenu from "./ManageMenu";

export type Props = {
  app: AppManageData;
  breadcrumb: string;
};

const { app, breadcrumb } = Astro.props;
---

<section class="section flex justify-between items-center">
  <div class="flex">
    <a href="/">
      <SvgHome />
    </a>

    <div class="ml-1">/ <a href="/manage/" class="underline">Manage</a></div>
    <div class="ml-1 text-ellipsis inline-block max-w-32 md:max-w-64 whitespace-nowrap overflow-hidden">/ <a href={`/manage/${app.id}/`} class="underline">{app.name}</a></div>
    <div class="ml-1">/ {breadcrumb}</div>
  </div>

  <ManageMenu id={app.id} client:only="preact" />
</section>

<section class="section space-y-4">
  <h1 class="text-4xl">
    Manage {app.name}
  </h1>

  <Ratings app={app} />
</section>
